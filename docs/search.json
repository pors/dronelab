[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog. More soon."
  },
  {
    "objectID": "posts/enter-the-tello/index.html",
    "href": "posts/enter-the-tello/index.html",
    "title": "Enter the Tello",
    "section": "",
    "text": "Mark Pors\n\n2025-04-20"
  },
  {
    "objectID": "posts/enter-the-tello/index.html#combine-the-stuff-you-like",
    "href": "posts/enter-the-tello/index.html#combine-the-stuff-you-like",
    "title": "Enter the Tello",
    "section": "Combine the stuff you like",
    "text": "Combine the stuff you like\n‚ÄúCombine the stuff you like‚Äù is good advice when looking for a new project to work on. I like to follow good advice and so I brainstormed a bit with ChatGPT to find interesting intersections between my interests. Some of my favorite activities ‚Äî like sex, meditation, and reading ‚Äî didn‚Äôt quite lend themselves to computer vision projects. Others had more potential: hiking in nature, coding, learning about new tech."
  },
  {
    "objectID": "posts/enter-the-tello/index.html#autonomous-scouting-drone",
    "href": "posts/enter-the-tello/index.html#autonomous-scouting-drone",
    "title": "Enter the Tello",
    "section": "Autonomous scouting drone",
    "text": "Autonomous scouting drone\nHaving a drone accompany us on hikes to do some scouting ahead hits the mark for me. It includes hiking and coding, and most important: I need to learn a lot to make a drone do what I want. I have zero experience with drones and very limited experience with computer vision models."
  },
  {
    "objectID": "posts/enter-the-tello/index.html#getting-ready-big-time",
    "href": "posts/enter-the-tello/index.html#getting-ready-big-time",
    "title": "Enter the Tello",
    "section": "Getting ready big time",
    "text": "Getting ready big time\nLike any self-respecting tech nerd, I decided to kick things off in style:\n\nBuy a domain name (most important!)\nGet a logo (as important!)\nBuy the best dev/DIY drone out there\nBuy a top line PC to train models\nBuy another PC to run simulation environments\n\nOK, guilty ‚Äî I bought the domain (hello dronelab.dev), but tried to stop myself there 1 2. I don‚Äôt know anything about drones, and might get bored with the project after a couple of weeks, so better start small."
  },
  {
    "objectID": "posts/enter-the-tello/index.html#enter-the-tello",
    "href": "posts/enter-the-tello/index.html#enter-the-tello",
    "title": "Enter the Tello",
    "section": "Enter the Tello",
    "text": "Enter the Tello\nI stumbled upon a modest little drone from way back in 2018 3 ‚Äî the DJI Tello ‚Äî and it was perfect for my first steps. It can fly indoors, is programmable and has a camera.\nThere is an even better version of it with some extra goodies that might come in handy:\n\nan onboard processor\na matrix display\na distance sensor\n\nSo I bought the DJI RoboMaster TT. TT stands for Tello Talent ‚Äî basically smart kids coding drones at an age I was still figuring out crayons.\nLook at that beauty!\n\n\n\nDJI RoboMaster TT"
  },
  {
    "objectID": "posts/enter-the-tello/index.html#whats-next",
    "href": "posts/enter-the-tello/index.html#whats-next",
    "title": "Enter the Tello",
    "section": "What‚Äôs next?",
    "text": "What‚Äôs next?\nIn the next episode I will play with the RoboMaster TT, both with and without code to control it. It includes different ways to crash it. Read on‚Ä¶\n\n\n\n\n\n\n\nSeries: Code, Fly & AI\n\n\n\n\n\n\nNext: Crash the Tello ‚Üí"
  },
  {
    "objectID": "posts/enter-the-tello/index.html#footnotes",
    "href": "posts/enter-the-tello/index.html#footnotes",
    "title": "Enter the Tello",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nI always buy the domain first, even before I know what I‚Äôm doing.‚Ü©Ô∏é\nI didn‚Äôt really stop myself there, I also created a logo. Technically ChatGPT did: ‚Ü©Ô∏é\n2018, also the last time I blogged something: decentralized.blog.‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/i-am-a-pilot/index.html",
    "href": "posts/i-am-a-pilot/index.html",
    "title": "I‚Äôm a Pilot!",
    "section": "",
    "text": "Mark Pors\n\n2025-04-25"
  },
  {
    "objectID": "posts/i-am-a-pilot/index.html#fulfilling-a-dream",
    "href": "posts/i-am-a-pilot/index.html#fulfilling-a-dream",
    "title": "I‚Äôm a Pilot!",
    "section": "Fulfilling a dream",
    "text": "Fulfilling a dream\nAs a kid I always wanted to be a pilot (not true, it just makes for a more interesting story), and now I just passed the EASA A1/A3 pilot exam!\nYeah, I know, this is a certification for UAV‚Äôs. UAV stands for Unmanned Aerial Vehicle, where you as a pilot stay on the ground. We can‚Äôt have it all.\nI will need this certification to fly drones outdoors, even the tiny Tello requires the ground-bound pilot to have the authorization to fly drones."
  },
  {
    "objectID": "posts/i-am-a-pilot/index.html#easa-a1a3-exam-practice-app",
    "href": "posts/i-am-a-pilot/index.html#easa-a1a3-exam-practice-app",
    "title": "I‚Äôm a Pilot!",
    "section": "EASA A1/A3 Exam Practice App",
    "text": "EASA A1/A3 Exam Practice App\nAnyway, to help me study, I (Claude.ai) created a practice app to go over all possible questions for the exam. I thought it might be handy for others so I put it up online here: EASA A1/A3 exam test app. The source code is here.\nBeware: the source PDF with questions was used as the basis for the app, and the LLM made some mistakes. I think I have corrected most/all of them, but if you want to be sure please double check."
  },
  {
    "objectID": "series/index.html",
    "href": "series/index.html",
    "title": "Code, Fly & AI Series",
    "section": "",
    "text": "Welcome to the Code, Fly & AI series ‚Äî a blog journey into coding autonomous drones with baby steps.\nFollow along as I:\n\nLearn to fly (and crash) drones\nHack with Python and SDKs\nUse AI to give them brains\n\nüëá Posts in this series:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEnter the Tello\n\n\nDiscover how to start building an autonomous scouting drone for hiking using the DJI RoboMaster TT (Tello Talent). Follow a beginner‚Äôs journey into drones, coding, and computer vision.\n\n\n\n\n\nApr 20, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nCrash the Tello (with and without code)\n\n\nLearn how to fly and program the DJI Tello (RoboMaster TT) drone, avoid common beginner crashes, and get started with Python coding using the Tello SDK.\n\n\n\n\n\nApr 24, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nKey navigation & Video snapshots\n\n\nHands-on guide to controlling a Tello drone with Python and pygame: learn responsive keyboard navigation, smooth velocity-based movement, live video streaming, and how to capture snapshots from the drone feed.\n\n\n\n\n\nApr 27, 2025\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/crash-the-tello/index.html",
    "href": "posts/crash-the-tello/index.html",
    "title": "Crash the Tello (with and without code)",
    "section": "",
    "text": "Mark Pors\n\n2025-04-24"
  },
  {
    "objectID": "posts/crash-the-tello/index.html#unboxed",
    "href": "posts/crash-the-tello/index.html#unboxed",
    "title": "Crash the Tello (with and without code)",
    "section": "Unboxed",
    "text": "Unboxed\nNow that the drone is out of the box, we‚Äôre gonna take it for a spin (and yes it crashed). First with the phone app, then with code.\n\n\n\nCrashed RoboMaster TT (generated by ChatGPT)\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThese blog posts are intended to be read in order. If you want to follow along on my journey, start here: Enter the Tello. Or ignore this and keep on reading below."
  },
  {
    "objectID": "posts/crash-the-tello/index.html#first-tt-flight",
    "href": "posts/crash-the-tello/index.html#first-tt-flight",
    "title": "Crash the Tello (with and without code)",
    "section": "First TT flight",
    "text": "First TT flight\nTo fly a drone for the first time it is good to have a basic understanding how these quadcopters work, and what the basic movements are:\n\n\n\n\n\n\n\nMovement\nDescription\n\n\n\n\nthrottle\nincreases or decreases the height of the drone by adjusting all propellers equally\n\n\nyaw\nturns the drone clockwise or counterclockwise by varying propeller speeds\n\n\npitch\nmoves the drone forward or backward by changing speeds between front and back propellers\n\n\nroll\nmoves the drone left or right by varying left and right propeller speeds\n\n\n\n This video explains very clearly how it works: \nThe Tello doesn‚Äôt come with a controller, we fly it through the Tello app. I used the Tello app for iPhone. This app hasn‚Äôt been updated for a long time and unfortunately it is useless as it crashes all the time. When the app crashes the drone keeps on hovering in the air, so this first crash is just a software crash.\n\n\n\n\n\n\nTip\n\n\n\nIf you want to fly the TT or Tello manually I recommend you get the TelloFPV. It‚Äôs not free, but doesn‚Äôt crash either.\n\n\n\n\n\n\n\n\nTip\n\n\n\nTo really enjoy flying the TT manually you can get a controller that is customized for the Tello: the GameSir T1d. I got one, and it works straight out of the box ‚Äî even with the TelloFPV app.\n\n\n\nBeware of the ceiling effect\nWhile flying the drone around a bit in my office, I went up a bit too high and the drone crashed when it came near the ceiling. This phenomenon even has a name and is called the ‚Äúceiling effect.‚Äù Basically, the drone gets sucked up to the ceiling because there is not enough air to push down through the propellers.\nAlright, now for the real fun ‚Äî controlling the drone with code."
  },
  {
    "objectID": "posts/crash-the-tello/index.html#the-tello-python-sdk",
    "href": "posts/crash-the-tello/index.html#the-tello-python-sdk",
    "title": "Crash the Tello (with and without code)",
    "section": "The Tello Python SDK",
    "text": "The Tello Python SDK\nDJI provides an SDK for the Tello drone that can be used with Python. The SDK can be used to control the drone through its API. The API is fairly basic but supports:\n\nFlight control with takeoff, landing and movement commands\nFlight status information (battery level, height, acceleration, speed)\nStream camera feed\n\nThe Python library we will be using for this SDK is DJITelloPy.\nA couple of useful resources:\n\nSDK 3.0 user guide (includes the API spec).\nRoboMaster Developer Guide (also for RoboMasters on wheels).\nRoboMaster SDK (as provided by DJI).\nDJITelloPy API Reference.\n\nTo give it a try, let‚Äôs first install djitellopy:\n\nimport sys\n!{sys.executable} -m pip install djitellopy\n\n\nTake-off, fly, land\nLet‚Äôs start with a simple script to take-off, fly, and land the drone.\nTo make this work the computer running the script needs to be connected to the Wifi Access Point the Tello provides. The SSID is of the form TELLO-XXXXXX.\n\nfrom djitellopy import tello\nfrom time import sleep\n\nt = tello.Tello()\nt.connect()\n\nprint(f\"Bat: {t.get_battery()}\")\nprint(f\"Temp: {t.get_temperature()}\")\n\nt.takeoff()\n\n\"\"\"Send RC control via four channels. Command is sent every self.TIME_BTW_RC_CONTROL_COMMANDS seconds.\nArguments:\n    left_right_velocity: -100~100 (left/right)\n    forward_backward_velocity: -100~100 (forward/backward)\n    up_down_velocity: -100~100 (up/down)\n    yaw_velocity: -100~100 (yaw)\n\"\"\"\nt.send_rc_control(0, 50, 0, 0)\nsleep(2)\nt.send_rc_control(30, 0, 0, 0)\nsleep(2)\nt.send_rc_control(0, 0, 0, 0) # don't forget this!\n\nt.land()\nt.end()\n\n\n[INFO] tello.py - 129 - Tello instance was initialized. Host: '192.168.1.85'. Port: '8889'.\n[INFO] tello.py - 438 - Send command: 'command'\n[INFO] tello.py - 462 - Response command: 'ok'\nBat: 100\nTemp: 45.0\n[INFO] tello.py - 438 - Send command: 'takeoff'\n[INFO] tello.py - 462 - Response takeoff: 'ok'\n[INFO] tello.py - 471 - Send command (no response expected): 'rc 0 50 0 0'\n[INFO] tello.py - 471 - Send command (no response expected): 'rc 30 0 0 0'\n[INFO] tello.py - 471 - Send command (no response expected): 'rc 0 0 0 0'\n[INFO] tello.py - 438 - Send command: 'land'\n[INFO] tello.py - 462 - Response land: 'ok'\n\nIt is pretty straightforward. My first attempt made the drone crash though: not having the t.send_rc_control(0, 0, 0, 0) command there tells the drone to move sideways (to the right) while landing, with the expected result.\n\n\n\n\n\n\nNote\n\n\n\nThe code above was executed in my code editor and the output you see there is the actual output. Similar to a frozen Jupyter notebook. This is possible because this blog is powered by Quarto. If you haven‚Äôt tried Quarto, maybe check it out.\n\n\n\n\nUsing router mode\nIt is quite annoying that the computer you are working on is not connected to the Internet while testing the code (it is connected to the wifi of the drone). Every five seconds I MUST check with Claude/ChatGPT if I am doing things right, no?\nFor the original Tello there is nothing we can do about that, but the RoboMaster TT has two wifi connection modes:\n\nDirect connection mode (aka AP mode): this is what we did so far, the Tello provides an access point and the computer connects to that.\nRouter mode (aka STA mode): both the TT and the computer connect to the same wifi router, so we are still online if that router is our home router.\n\nThe TT has an expansion kit that contains a small microprocessor that provides wifi and Bluetooth connectivity: ESP32-D2WD. We will have a look later to see what we can do with it, for now we just use the wifi in router mode. There is a tiny switch on the expansion unit that we can toggle between the two modes. It does involve a couple of other steps though, which are outlined here: Connection examples. It didn‚Äôt work for me (there is no QR code I can get from the Tello app), so I will show you what I did:\n\n\n\n\n\n\nTip\n\n\n\nBefore continuing, the controller needs to be activated from the Tello app! This happens after the firmware update of this controller. This cost me a couple of days of my life, so next time I‚Äôll RTFM.\n\n\n\nStep 1.\nSet the switch to AP mode first (down).\n\n\nStep 2.\nConnect the PC to the RMTT-xxx network. We are now in direct connection mode, provided by the Wifi on the expansion kit.\n\n\nStep 4:\nRun this script:\n\nimport socket\nimport time\nimport getpass\nimport os\n\n# Environment variables for Wi-Fi credentials just to make it run in a notebook\nos.environ[\"WIFI_SSID\"] = \"MyNetwork\"\nos.environ[\"WIFI_PASSWORD\"] = \"SuperSecret\"\n\nsock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nsock.settimeout(5)\n\n\ndef get_wifi_credentials():\n    try:\n        ssid = input(\"Wi-Fi SSID: \")\n        password = getpass.getpass(\"Wi-Fi Password: \")\n    except (EOFError, getpass.GetPassWarning, Exception):\n        # Fall back to environment variables\n        print(\"Interactive input not available. Falling back to environment variables.\")\n        ssid = os.getenv(\"WIFI_SSID\")\n        password = os.getenv(\"WIFI_PASSWORD\")\n\n        if not ssid or not password:\n            raise RuntimeError(\n                \"Missing WIFI_SSID or WIFI_PASSWORD environment variable.\"\n            )\n\n    return ssid, password\n\n\n# Step 1: Enter SDK mode\nsock.sendto(b\"command\", (\"192.168.10.1\", 8889))\ntry:\n    response, _ = sock.recvfrom(1024)\n    print(\"Response 1:\", response)\nexcept Exception as e:\n    print(\"No response to command:\", e)\n\ntime.sleep(1)\n\n# Step 2: Send ap command\nssid, password = get_wifi_credentials()\nsock.sendto(b\"ap %s %s\" % (ssid.encode(), password.encode()), (\"192.168.10.1\", 8889))\ntry:\n    response, _ = sock.recvfrom(1024)\n    print(\"Response 2:\", response)\nexcept Exception as e:\n    print(\"No response to ap:\", e)\n\n\n\nStep 5:\nToggle the switch to STA mode (up).\n\n\nStep 6:\nConnect the PC to the wifi network you provided in the script above.\n\n\nStep 7:\nFind the IP address that was assigned to the TT (e.g.¬†in your home router admin settings).\n\n\nStep 8:\nUse this IP address every time you connect to the Tello in your code:\n\nt = tello.Tello(host=\"192.168.1.85\") # the IP address from step 7\n\nt.connect()\n\nFrom here on we can connect to the TT and also be connected to the Internet. Yay!\n\n\n\nThanks!\nI want to thank Murtaza Hassan for getting me started through this video: Drone Programming With Python Course."
  },
  {
    "objectID": "posts/crash-the-tello/index.html#whats-next",
    "href": "posts/crash-the-tello/index.html#whats-next",
    "title": "Crash the Tello (with and without code)",
    "section": "What‚Äôs Next",
    "text": "What‚Äôs Next\nIn the next episode I‚Äôm going to implement keyboard control and stream video frames to the PC and save them on disk on demand (‚Äúinspired‚Äù by Murtaza 1).\n\n\n\n\n\n\n\nSeries: Code, Fly & AI\n\n\n\n‚Üê Previous: Enter the Tello\n\n\nNext: Key navigation & Video snapshots ‚Üí"
  },
  {
    "objectID": "posts/crash-the-tello/index.html#footnotes",
    "href": "posts/crash-the-tello/index.html#footnotes",
    "title": "Crash the Tello (with and without code)",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nBorrowed is the real word here. No: stolen!‚Ü©Ô∏é"
  },
  {
    "objectID": "posts/key-navigation-video-snapshots/index.html",
    "href": "posts/key-navigation-video-snapshots/index.html",
    "title": "Key navigation & Video snapshots",
    "section": "",
    "text": "Mark Pors\n\n2025-04-27"
  },
  {
    "objectID": "posts/key-navigation-video-snapshots/index.html#keyboard-navigation",
    "href": "posts/key-navigation-video-snapshots/index.html#keyboard-navigation",
    "title": "Key navigation & Video snapshots",
    "section": "Keyboard navigation",
    "text": "Keyboard navigation\nNow that we can control the TT with code, let‚Äôs extend that to a human in the ground-bound pilot seat. The most simple approach is to use specific keyboard strokes to map to drone navigation commands.\nKeyboard navigation is implemented as an example in the DJSTelloPy repo: manual-control-pygame.py. This is quite a cool piece of code. It uses pygame, which I never used before, so lets go through some of the interesting parts of the code.\n\nThe secret sauce: Event-based controls\nThe example uses pygame‚Äôs event system rather than simple polling, and this creates nice and responsive controls.\n\n# Set up a timer that triggers events at the specified frame rate\npygame.time.set_timer(pygame.USEREVENT + 1, 1000 // FPS)\n\n# In the main loop, process all pending events\nfor event in pygame.event.get():\n    if event.type == pygame.USEREVENT + 1:\n        self.update()\n    elif event.type == pygame.KEYDOWN:\n        self.keydown(event.key)\n    elif event.type == pygame.KEYUP:\n        self.keyup(event.key)\n\nInstead of constantly checking ‚Äúis this key pressed?‚Äù in a loop, the code waits for pygame to tell it when keys are pressed or released. This means:\n\nno missed keypresses, even if they happen very quickly\nimmediate detection of key events\nclear separation between ‚Äúkey is pressed‚Äù and ‚Äúkey is released‚Äù logic\n\nPretty cool.\n\n\nSmooth flying with velocity controls\nAnother interesting bit from the example code is how smoothly it makes the drone fly. This is done through velocity-based control (not up, down, left etc. commands).\n# Initialize velocity variables\nself.for_back_velocity = 0   # Forward/backward\nself.left_right_velocity = 0  # Left/right\nself.up_down_velocity = 0     # Up/down\nself.yaw_velocity = 0         # Rotation\n\n# When UP arrow is pressed\ndef keydown(self, key):\n    if key == pygame.K_UP:\n        self.for_back_velocity = S  # Set to speed value (60)\n    # ...other keys...\n\n# When UP arrow is released\ndef keyup(self, key):\n    if key == pygame.K_UP or key == pygame.K_DOWN:\n        self.for_back_velocity = 0  # Stop movement\n    # ...other keys...\nInstead of sending a ‚Äúmove forward‚Äù command when we press UP, it sets a forward velocity that remains until we release the key. This creates a very natural movement, especially when:\n\nmoving diagonally (pressing UP and RIGHT simultaneously)\ntransitioning between movements (release UP while still holding RIGHT)\nmaking subtle adjustments to flight path\n\n\n\nThe Heartbeat: Why frame rate matters\nSomething that reminds me of my hardware/telco days: the pygame library work synchronously with fixed time intervals. This line sets the heartbeat:\npygame.time.set_timer(pygame.USEREVENT + 1, 1000 // FPS)\nBasically at each interval it listens for user events and handles them as needed. At 120 FPS, it generates an event every 8.3 milliseconds, triggering e.g.¬†our update function:\ndef update(self):\n    if self.send_rc_control:\n        self.tello.send_rc_control(\n            self.left_right_velocity,\n            self.for_back_velocity,\n            self.up_down_velocity, \n            self.yaw_velocity\n        )\n\n\nWhy not send commands immediately?\nThe naive alternative is to have a while True: loop that reads key strokes and react to that instantly. What‚Äôs wrong with that?\n\nCommand Rate Control: Drones can get overwhelmed if we send too many commands too quickly\nCommand Combination: If we press multiple keys in one frame, they‚Äôre combined into a single efficient command\nSmooth Motion: Even, regular command timing creates more natural drone movement\n\nI tried the while True approach and it doesn‚Äôt work that great. There is no feel between pressing keys and the drone following up on that.\nSo, I learned something new: pygame, which I‚Äôm sure will come in handy soon (spoiler alert: after this I want to use the GameSire controller to fly the Tello. Guess which library is great to speak to gaming consoles!)."
  },
  {
    "objectID": "posts/key-navigation-video-snapshots/index.html#video-streaming-snapshots",
    "href": "posts/key-navigation-video-snapshots/index.html#video-streaming-snapshots",
    "title": "Key navigation & Video snapshots",
    "section": "Video streaming & snapshots",
    "text": "Video streaming & snapshots\nThere is no autonomous flying without vision, and now is the first time we can have a peek at streaming video and capturing it.\nThe same example from above contains the video streaming as well.\n\nVideo streaming\n\nSetting Up the Stream\nFirst, the code initializes the video stream:\n# Make sure streaming is off before we start\nself.tello.streamoff()\n# Then turn streaming on\nself.tello.streamon()\n\n# Get the object that will give us frames\nframe_read = self.tello.get_frame_read()\nThis pattern of turning streaming off then on again is a good practice to ensure we‚Äôre starting with a clean slate. I had it hang a couple of times before applying this trick.\n\n\nCapturing and processing frames\nIn the main loop, the code grabs frames from the drone and processes them:\n# Get the latest frame\nframe = frame_read.frame\n\n# Add battery information to the frame\ntext = \"Battery: {}%\".format(self.tello.get_battery())\ncv2.putText(frame, text, (5, 720 - 5),\n    cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 0, 255), 2)\nThis overlays the battery percentage in red text at the bottom left of the frame. A handy feature when we‚Äôre flying!\n\n\nFrame transformation\nThe next three lines are needed for displaying the frame correctly in pygame:\n# OpenCV uses BGR, pygame needs RGB\nframe = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)\n\n# Rotate the frame 90 degrees\nframe = np.rot90(frame)\n\n# Flip the frame upside down\nframe = np.flipud(frame)\nWhy all this transformation? Cameras often capture images in orientations or color formats that aren‚Äôt immediately displayable. OpenCV uses BGR color format while pygame expects RGB, and the Tello camera orientation needs adjusting to appear correctly on screen.\n\n\nDisplaying in pygame\nFinally, the frame is displayed in the pygame window:\n# Convert numpy array to a pygame surface\nframe = pygame.surfarray.make_surface(frame)\n\n# Draw the surface to the screen\nself.screen.blit(frame, (0, 0))\n\n# Update the display\npygame.display.update()\nThis process happens every frame (120 times per second with the default settings), creating a smooth video feed.\n\n\n\nVideo snapshots\nNot included in the example code is the ability to take a snapshot by pressing a key and saving the current frame to disk.\nSo let‚Äôs add it:\n\n1. First, add the necessary import\nAt the top of the file, make sure we have:\nimport os\n\n\n2. Create a directory to store images\nAdd this near the beginning of our __init__ method:\n# Create a directory to store images if it doesn't exist\nif not os.path.exists('tello_images'):\n    os.makedirs('tello_images')\n\n\n3. Add a key handler for taking snapshots\nIn the keyup method, add a case for a new key (I‚Äôll use ‚Äòp‚Äô for ‚Äúpicture‚Äù):\ndef keyup(self, key):\n    \"\"\" Update velocities based on key released \"\"\"\n    if key == pygame.K_UP or key == pygame.K_DOWN:  # set zero forward/backward velocity\n        self.for_back_velocity = 0\n    elif key == pygame.K_LEFT or key == pygame.K_RIGHT:  # set zero left/right velocity\n        self.left_right_velocity = 0\n    elif key == pygame.K_w or key == pygame.K_s:  # set zero up/down velocity\n        self.up_down_velocity = 0\n    elif key == pygame.K_a or key == pygame.K_d:  # set zero yaw velocity\n        self.yaw_velocity = 0\n    elif key == pygame.K_t:  # takeoff\n        self.tello.takeoff()\n        self.send_rc_control = True\n    elif key == pygame.K_l:  # land\n        not self.tello.land()\n        self.send_rc_control = False\n    elif key == pygame.K_p:  # take a snapshot\n        self.take_snapshot()\n\n\n4. Add the snapshot method\nAdd this new method to our FrontEnd class:\ndef take_snapshot(self):\n    \"\"\"\n    Take a snapshot of the current frame and save it to disk\n    \"\"\"\n    # Get the current frame\n    frame = self.tello.get_frame_read().frame\n    \n    if frame is not None:\n        # Create a filename with timestamp\n        timestamp = time.strftime(\"%Y%m%d-%H%M%S\")\n        filename = f\"tello_images/tello_snapshot_{timestamp}.jpg\"\n        \n        # Save the image - note we save the original frame before any transformations\n        cv2.imwrite(filename, frame)\n        \n        print(f\"Snapshot saved: {filename}\")\nThe resulting code can be found here.\n\n\n\nLet‚Äôs try it out!\nIt all works just fine, here are some low res snapshots I made:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNavigating with a keyboard is a disaster, so‚Ä¶."
  },
  {
    "objectID": "posts/key-navigation-video-snapshots/index.html#whats-next",
    "href": "posts/key-navigation-video-snapshots/index.html#whats-next",
    "title": "Key navigation & Video snapshots",
    "section": "What‚Äôs next",
    "text": "What‚Äôs next\nTo improve navigation we are going to hook up the GameSir 1Td, read on...\n\n\n\n\n\n\n\nSeries: Code, Fly & AI\n\n\n\n‚Üê Previous: Crash the Tello"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "DroneLab - Coding Autonomous Drones in Baby Steps",
    "section": "",
    "text": "Key navigation & Video snapshots\n\n\n\ndrone\n\ncode\n\n\n\nHands-on guide to controlling a Tello drone with Python and pygame: learn responsive keyboard navigation, smooth velocity-based movement, live video streaming, and how to capture snapshots from the drone feed.\n\n\n\n\n\nApr 27, 2025\n\n\nMark Pors\n\n\n\n\n\n\n\n\n\n\n\n\nI‚Äôm a Pilot!\n\n\n\ndrone\n\nopen-source\n\n\n\nPassed the EASA A1/A3 drone pilot exam and built a free web-based practice app. Learn how to prepare for the EASA UAV certification and access open-source study tools.\n\n\n\n\n\nApr 25, 2025\n\n\nMark Pors\n\n\n\n\n\n\n\n\n\n\n\n\nCrash the Tello (with and without code)\n\n\n\ndrone\n\ncode\n\n\n\nLearn how to fly and program the DJI Tello (RoboMaster TT) drone, avoid common beginner crashes, and get started with Python coding using the Tello SDK.\n\n\n\n\n\nApr 24, 2025\n\n\nMark Pors\n\n\n\n\n\n\n\n\n\n\n\n\nEnter the Tello\n\n\n\ndrone\n\n\n\nDiscover how to start building an autonomous scouting drone for hiking using the DJI RoboMaster TT (Tello Talent). Follow a beginner‚Äôs journey into drones, coding, and computer vision.\n\n\n\n\n\nApr 20, 2025\n\n\nMark Pors\n\n\n\n\n\nNo matching items"
  }
]